<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>每日习惯打卡</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>每日习惯打卡</h1>
            <p class="subtitle">"我尽最大努力做这些事了吗？"</p>
        </header>

        <div class="main-content">
            <!-- 周视图打卡区域 -->
            <div class="checkin-section">
                <div class="section-header">
                    <h2>本周打卡</h2>
                    <div class="week-controls">
                        <div class="week-navigation">
                            <button id="prevWeekBtn" class="btn btn-secondary">← 上周</button>
                            <div class="current-week" id="currentWeekDisplay"></div>
                            <button id="nextWeekBtn" class="btn btn-secondary">下周 →</button>
                        </div>
                        <button id="addHabitBtn" class="btn btn-primary">添加习惯</button>
                    </div>
                </div>
                <div class="week-view-container">
                    <div id="weekViewTable" class="week-view-table">
                        <!-- 周视图表格将在这里动态生成 -->
                    </div>
                </div>
            </div>

            <!-- 统计图表区域 -->
            <div class="stats-section">
                <div class="section-header">
                    <h2>努力效果统计</h2>
                </div>
                <div class="chart-container">
                    <canvas id="effortChart"></canvas>
                </div>
                <div class="stats-summary">
                    <div class="stat-item">
                        <span class="stat-label">今日总分：</span>
                        <span class="stat-value" id="todayScore">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">平均分：</span>
                        <span class="stat-value" id="avgScore">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">连续天数：</span>
                        <span class="stat-value" id="streakDays">-</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加习惯的模态框 -->
    <div id="addHabitModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">添加新习惯</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="habitName">习惯名称：</label>
                    <input type="text" id="habitName" placeholder="例如：锻炼身体" maxlength="20">
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveHabitBtn" class="btn btn-primary">保存</button>
                <button id="cancelHabitBtn" class="btn btn-secondary">取消</button>
            </div>
        </div>
    </div>

    <!-- 分数选择弹窗 -->
    <div id="scoreModal" class="score-modal">
        <div class="score-modal-content">
            <div class="score-modal-header">
                <h3 id="scoreModalTitle">选择分数</h3>
                <p id="scoreModalSubtitle">为这个习惯选择今天的努力程度</p>
            </div>
            <div class="score-grid" id="scoreGrid">
                <!-- 分数选项将在这里动态生成 -->
            </div>
            <div class="score-labels">
                <span>完全没有努力</span>
                <span>尽最大努力</span>
            </div>
            <div class="score-modal-footer">
                <button id="saveScoreBtn" class="btn btn-primary">保存</button>
                <button id="cancelScoreBtn" class="btn btn-secondary">取消</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html> 